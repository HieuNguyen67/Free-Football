<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Free NBA</title>
    <script src="../js/jquery-3.7.1.min.js"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg" style="background-color: #e3f2fd">
      <div class="container-fluid">
        <a
          class="navbar-brand fs-3 fw-bold ms-3 d-flex flex-row"
          href="./free-nba-teams.html"
          ><img
            src="../public/nba.jpg"
            alt="Logo"
            width="60"
            height="60"
            class="d-inline-block align-text-top rounded shadow"
          /><span class="ms-3">Free NBA </span>
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul
            class="navbar-nav position-absolute top-50 start-50 translate-middle fs-5"
          >
            <li class="nav-item">
              <a
                class="nav-link"
                aria-current="page"
                href="./free-nba-teams.html"
                >Đội Bóng</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="./free-nba-players.html">Cầu Thủ</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="./free-nba-games.html"
                >Trận Đấu</a
              >
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <div class="container">
        <h1
        class="text-center my-5 fw-bold"
        style="font-family: 'Times New Roman', Times, serif"
      >
        Danh Sách Các Trận Đấu NBA

      </h1>
       <form id="dateForm" class="mt-3">
            <label for="dateInput" class="form-label">Chọn ngày:</label>
            <input
              type="date"
              id="dateInput"
              name="dateInput"
              class="form-control"
            />
            <button
              type="submit"
              class="btn btn-dark mt-3 px-5 py-3 col-4 fs-5"
              style="
                background: linear-gradient(19deg, #21d4fd 0%, #b721ff 100%);
                border: 0px;
              "
            >
              Tra cứu
            </button>
            </form>
             <label class="mt-5 fw-bold">Tìm kiếm:</label>
    <input id="myInput" type="text" placeholder="Search.." class=" form-control" />

             <table
      class="table table-hover table-bordered table-light table-striped mb-5 mt-3"
      style="width: 100%"
    >
      <thead  class="table-dark">
        <tr>
         
          <th>Thông Tin Trận Đấu</th>
          <th>Đội Nhà</th>
          <th>Đội Khách</th>
         
        </tr>
      </thead>
      <tbody id="matchDetails"></tbody>
    </table>
             <script>
      $(document).ready(function () {
          $("#myInput").on("keyup", function () {
          var value = $(this).val().toLowerCase();
          $("#matchDetails tr").filter(function () {
            $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1);
          });
        });
        $("#dateForm").submit(function (event) {
          event.preventDefault();
          var selectedDateTime = $("#dateInput").val();

          console.log(selectedDateTime);
          const settings = {
            async: true,
            crossDomain: true,
            url:
              "https://api.balldontlie.io/v1/games?dates[]=" +
              selectedDateTime,
            method: "GET",
            headers: {
               "Authorization":"c081980f-4def-4ea6-980d-857186569dd3",
            },
          };

          $.ajax(settings).done(function (response) {
            console.log(response);
             $("#matchDetails").empty();
            response.data.forEach(function (games) {
           const date=games.date;
           const season=games.season;
           const status=games.status;
           const period=games.period;
           const home_team_score=games.home_team_score;
           const visitor_team_score=games.visitor_team_score;
           const home_team_conference=games.home_team.division;
            const home_team_division=games.home_team.conference;
             const home_team_city=games.home_team.city;
              const home_team_full_name=games.home_team.full_name;
               const home_team_abbreviation=games.home_team.abbreviation;
 const visitor_team_conference=games.visitor_team.division;
            const visitor_team_division=games.visitor_team.conference;
             const visitor_team_city=games.visitor_team.city;
              const visitor_team_full_name=games.visitor_team.full_name;
               const visitor_team_abbreviation=games.visitor_team.abbreviation;

           
            

            var newRow = `<tr>
            
                <td >
                  <span class='fw-bold fs-5'>${home_team_full_name} - ${visitor_team_full_name}</span><br>
                  Điểm số: <span class='fw-bold'>${home_team_score} - ${visitor_team_score}</span><br>
                  Ngày đấu: <span class='fw-bold'>${date}</span><br>
                  Mùa: <span class='fw-bold'>${season}</span><br>
                  Trạng thái: <span class='fw-bold'>${status}</span><br>
                  Hiệp đấu: <span class='fw-bold'>${period}</span><br>

                </td>
                <td>
                  Điểm số: <span class='fw-bold'>${home_team_score}</span><br>
                    Tên đội bóng: <span class='fw-bold'>${home_team_full_name}</span><br>
                Tên viết tắt: <span class='fw-bold'>${home_team_abbreviation}</span><br>
                Liên đoàn: <span class='fw-bold'>${home_team_conference}</span><br>
                Khu vực: <span class='fw-bold'>${home_team_division}</span><br>
                Thành phố: <span class='fw-bold'>${home_team_city}</span><br></td>
                
                <td >
                     Điểm số: <span class='fw-bold'>${visitor_team_score}</span><br>
                    Tên đội bóng: <span class='fw-bold'>${visitor_team_full_name}</span><br>
                Tên viết tắt: <span class='fw-bold'>${visitor_team_abbreviation}</span><br>
                Liên đoàn: <span class='fw-bold'>${visitor_team_conference}</span><br>
                Khu vực: <span class='fw-bold'>${visitor_team_division}</span><br>
                Thành phố: <span class='fw-bold'>${visitor_team_city}</span><br>
                  </td></tr>`;
                
         

            $("#matchDetails").append(newRow);
          });

            
          });
        });
      });
    </script>

    </div>
  </body>
</html>
