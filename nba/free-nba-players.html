<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Free NBA</title>
    <script src="../js/jquery-3.7.1.min.js"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
     <style>
      .csstable{
       background:linear-gradient(0deg, #fffefe 0%, rgb(192, 248, 255) 100%);
 
      }
        .cssgardient {
        background: -webkit-linear-gradient(#1488cc, #2b32b2);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
      }
    </style>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg" style="background: linear-gradient(62deg, #8EC5FC 0%, #E0C3FC 100%);">
      <div class="container-fluid">
        <a
          class="navbar-brand fs-3 fw-bold ms-3 d-flex flex-row"
          href="./free-nba-teams.html"
          ><img
            src="../public/nba.jpg"
            alt="Logo"
            width="60"
            height="60"
            class="d-inline-block align-text-top rounded shadow"
          /><span class="ms-3">Free NBA </span>
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul
            class="navbar-nav position-absolute top-50 start-50 translate-middle fs-5"
          >
            <li class="nav-item">
              <a
                class="nav-link"
                aria-current="page"
                href="./free-nba-teams.html"
                >Đội Bóng</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="./free-nba-players.html"
                >Cầu Thủ</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="./free-nba-games.html">Trận Đấu</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <div class="container">
      <h1
        class="text-center my-5 fw-bold cssgardient"
        style="font-family: 'Times New Roman', Times, serif"
      >
        Danh Sách Các Cầu Thủ NBA
      </h1>
      <label class="mt-5 fw-bold">Tìm kiếm:</label>
      <input
        id="myInput"
        type="text"
        placeholder="Search.."
        class="form-control"
      />
  
      <table
        class="table table-hover table-bordered table-striped mb-3 mt-3"
        style="width: 100%"
      >
        <thead class="table-dark">
          <tr>
            <th>ID</th>
            <th>Tên cầu thủ</th>
            <th>Thông tin</th>
            <th>Đội bóng</th>
          </tr>
        </thead>
        <tbody id="matchDetails"></tbody>
      </table>
        <p class="text-center my-3">
<button id="nextPage" class="btn btn-primary col-6">Xem Tiếp...</button></p>
      
      <script>
        $(document).ready(function () {
          
          $("#myInput").on("keyup", function () {
            var value = $(this).val().toLowerCase();
            $("#matchDetails tr").filter(function () {
              $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1);
            });
          });
              let cursor = 0; 
          function fetchData(cursor) {
          const settings = {
            async: true,
            crossDomain: true,
            url: `https://api.balldontlie.io/v1/players?per_page=100&cursor=${cursor}`,
            method: "GET",
            headers: {
              Authorization: "c081980f-4def-4ea6-980d-857186569dd3",
            },
          };

          $.ajax(settings).done(function (response) {
            console.log(response);

            response.data.forEach(function (player) {
              const id = player.id;
              const firstname = player.first_name;
              const lastname = player.last_name;
              const vitri = player.position;
              const chieucao = player.height;
              const cannang = player.weight;
              const soao = player.jersey_number;
              const truongdaihoc = player.college;
              const quocgia = player.country;
              const namdraft = player.draft_year;
              const vongdraft = player.draft_round;
              const sodraft = player.draft_number;
              const team_liendoan = player.team.conference;
              const team_khuvuc = player.team.division;
              const team_thanhpho = player.team.city;
              const team_name = player.team.full_name;
              const team_tenviettat = player.team.abbreviation;

              var newRow = `<tr >
              <td class='fw-bold csstable '>${id}</td>
              <td class='fw-bold fs-5 csstable text-danger'>${firstname}&nbsp;${lastname}</td>
              <td class="lh-lg csstable">
                Vị trí chơi:<span class='fw-bold ' > ${vitri}</span>
                , Chiều cao: <span  class='fw-bold'>${chieucao} (feet - inches)</span><br>
                Cân nặng: <span  class='fw-bold'>${cannang} pounds</span>
                , Số áo: <span  class='fw-bold'>${soao}</span><br>
                Khu vực/Thành phố: <span class='fw-bold'>${truongdaihoc}</span>
                , Quốc gia: <span class='fw-bold'>${quocgia}</span><br>
                Năm Draft: <span class='fw-bold'>${namdraft}</span>
                , Vòng Draft: <span class='fw-bold'>${vongdraft}</span>
                , Số Draft: <span class='fw-bold'>${sodraft}</span>

              </td>
              <td class='csstable'>
                  Tên đội bóng: <span class='fw-bold'>${team_name}</span><br>
                Tên viết tắt: <span class='fw-bold'>${team_tenviettat}</span><br>
                Liên đoàn: <span class='fw-bold'>${team_liendoan}</span><br>
                Khu vực: <span class='fw-bold'>${team_khuvuc}</span><br>
                Thành phố: <span class='fw-bold'>${team_thanhpho}</span><br>
              
              </td>
              </tr>`;

              $("#matchDetails").append(newRow);
            });
          }); }
          fetchData(cursor);

    // Pagination event handler
    $("#nextPage").on("click", function () {
        cursor += 100; // Increase cursor by 25 for next page
        fetchData(cursor); // Fetch data for the next page
    });

    $("#prevPage").on("click", function () {
        if (cursor >= 100) {
            cursor -= 100; // Decrease cursor by 25 for previous page
            fetchData(cursor); // Fetch data for the previous page
        }
    });
        });
      </script>
    </div>
  </body>
</html>
